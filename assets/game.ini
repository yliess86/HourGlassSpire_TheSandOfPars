# Hour Glass Spire — Game Configuration
# Reload at runtime with F5
# Expressions: +, -, *, /, parentheses, variable references
# Colors: #RRGGBBAA hex format

[game]
GAME_TITLE                           = "Hour Glass Spire"                  # main title shown in window and UI
GAME_SUBTITLE                        = "the Sands of Pars"                 # subtitle appended to title

[version]
VERSION_NAME                         = "Game Jam"                          # build label (e.g. "Game Jam", "Alpha")
VERSION_DATE                         = "12-02-2026"
VERSION_TIME                         = "14:29:05"
VERSION_HASH                         = "8836445"

[engine]
WINDOW_TITLE                         = GAME_TITLE + " - " + GAME_SUBTITLE  # SDL window title bar text
WINDOW_SCALE                         = 3  # :u8                            # integer multiplier on logical resolution
LOGICAL_H                            = 480                                 # logical viewport height in pixels (width from aspect ratio)
FPS                                  = 60  # :u8                           # target frame rate
FIXED_STEPS                          = 4  # :u8                            # physics sub-steps per frame (fixed_dt = 1/(FPS*FIXED_STEPS))

[physics]
PPM                                  = 16                                  # pixels per meter — world-to-pixel conversion factor
GRAVITY                              = 2000 / PPM                          # downward acceleration (m/s²)
EPS                                  = 1 / PPM                             # collision epsilon — smallest meaningful distance
TILE_SIZE                            = 8 / PPM                             # side length of one tile in meters (1 BMP pixel = 1 tile)

[camera]
CAMERA_FOLLOW_SPEED_MIN              = 2.0                                 # follow speed inside dead zone (slow drift)
CAMERA_FOLLOW_SPEED_MAX              = 12.0                                # follow speed at viewport edge (fast catch-up)
CAMERA_DEAD_ZONE                     = 0.33                                # normalized half-viewport radius where camera doesn't move
CAMERA_BOUNDARY_ZONE                 = 3.0                                 # meters from level edge where camera decelerates

[level]
LEVEL_NAME                           = "level"                             # BMP filename in assets/ (without extension)
LEVEL_COLOR_BG                       = #14141eff                           # background clear color
LEVEL_COLOR_TILE_SOLID               = #5a5046ff                           # solid tile fill color
LEVEL_COLOR_TILE_BACK_WALL           = #2d2823ff                           # back wall / slope background fill color

[player]
PLAYER_COLOR                         = #0096ffff                           # player square color (RGBA)
PLAYER_SIZE                          = 24 / PPM                            # player hitbox side length (square)
PLAYER_CHECK_GROUND_EPS              = 2 / PPM                             # raycast distance below feet for ground detection
PLAYER_CHECK_SIDE_WALL_EPS           = 2 / PPM                             # raycast distance sideways for wall detection
PLAYER_COYOTE_TIME_DURATION          = 0.1                                 # seconds after leaving ground where jump still allowed
PLAYER_DROP_NUDGE                    = 2 / PPM                             # downward nudge when dropping through a platform
PLAYER_FAST_FALL_MULT                = 3.0                                 # gravity multiplier when ascending with jump released (short hop)
PLAYER_INPUT_AXIS_THRESHOLD          = 0.5                                 # stick/axis magnitude to register directional input
PLAYER_MOVE_LERP_SPEED               = 15.0                                # interpolation rate for horizontal movement smoothing

[player_run]
PLAYER_RUN_SPEED                     = 300 / PPM                           # max horizontal run speed (m/s)
PLAYER_RUN_SPEED_THRESHOLD           = 0.1 * PLAYER_RUN_SPEED              # below this speed, considered standing still
PLAYER_RUN_BOB_AMPLITUDE             = 0.06                                # vertical bob amplitude while running (meters)
PLAYER_RUN_BOB_SPEED                 = 12.0                                # bob oscillation frequency (rad/s)

[player_jump]
PLAYER_JUMP_FORCE                    = 700 / PPM                           # upward impulse on jump (m/s)
PLAYER_JUMP_BUFFER_DURATION          = 0.1                                 # seconds jump input is buffered before landing

[player_dash]
PLAYER_DASH_SPEED                    = 4 * PLAYER_RUN_SPEED                # dash velocity (4x run speed)
PLAYER_DASH_DURATION                 = 0.15                                # dash active time in seconds
PLAYER_DASH_COOLDOWN                 = 0.75                                # seconds between dashes

[player_wall]
PLAYER_WALL_JUMP_EPS                 = 2 / PPM                             # max wall distance to allow wall jump
PLAYER_WALL_JUMP_FORCE               = 1.5 * PLAYER_JUMP_FORCE             # wall jump impulse (1.5x normal jump)
PLAYER_WALL_JUMP_VERTICAL_MULT       = 0.75                                # vertical component scale of wall jump (less upward)
PLAYER_WALL_SLIDE_SPEED              = 100 / PPM                           # max downward speed while wall sliding
PLAYER_WALL_RUN_COOLDOWN             = 0.4                                 # seconds before wall run can be used again
PLAYER_WALL_RUN_VERTICAL_SPEED       = 500 / PPM                           # initial upward speed for vertical wall run
PLAYER_WALL_RUN_VERTICAL_DECAY       = 2.5                                 # exponential decay rate of vertical wall run speed
PLAYER_WALL_RUN_HORIZONTAL_SPEED     = 350 / PPM                           # horizontal speed along back wall during wall run
PLAYER_WALL_RUN_HORIZONTAL_LIFT      = 250 / PPM                           # initial upward boost entering horizontal wall run
PLAYER_WALL_RUN_HORIZONTAL_GRAV_MULT = 0.2                                 # gravity reduction during horizontal wall run (parabolic arc)

[player_slopes]
PLAYER_SLOPE_SNAP                    = 6 / PPM                             # max snap distance to stick to slope surface (airborne)
PLAYER_SLOPE_UPHILL_FACTOR           = 0.75                                # speed multiplier going uphill (slower)
PLAYER_SLOPE_DOWNHILL_FACTOR         = 1.25                                # speed multiplier going downhill (faster)
PLAYER_STEP_HEIGHT                   = 6 / PPM                             # max obstacle height player can step over seamlessly
PLAYER_SWEEP_SKIN                    = 0.0001                              # swept AABB skin width to prevent tunneling

[player_graphics]
PLAYER_LOOK_DEFORM                   = 0.15                                # velocity-based squash/stretch deformation amount
PLAYER_LOOK_SMOOTH                   = 12.0                                # interpolation speed for look direction smoothing
PLAYER_IMPACT_DECAY                  = 8.0                                 # damping rate of impact bounce spring
PLAYER_IMPACT_FREQ                   = 18.0                                # oscillation frequency of impact bounce (rad/s)
PLAYER_IMPACT_SCALE                  = 0.20                                # max squash/stretch scale from impact bounce
PLAYER_IMPACT_THRESHOLD              = 50 / PPM                            # min landing velocity to trigger impact bounce

[player_particles]
PLAYER_PARTICLE_DUST_SIZE            = PLAYER_SIZE / 4                     # dust particle radius
PLAYER_PARTICLE_DUST_GRAVITY         = 600 / PPM                           # gravity on dust particles (m/s²)
PLAYER_PARTICLE_DUST_LIFETIME_MIN    = 0.15                                # min dust particle lifetime (seconds)
PLAYER_PARTICLE_DUST_LIFETIME_MAX    = 0.35                                # max dust particle lifetime (seconds)
PLAYER_PARTICLE_DUST_SPEED_MIN       = 30 / PPM                            # min dust emit speed (m/s)
PLAYER_PARTICLE_DUST_SPEED_MAX       = 80 / PPM                            # max dust emit speed (m/s)
PLAYER_PARTICLE_DUST_FRICTION        = 5.0                                 # air friction on dust particles
PLAYER_PARTICLE_STEP_SIZE            = PLAYER_SIZE / 3                     # footstep mark size
PLAYER_PARTICLE_STEP_LIFETIME        = 4                                   # footstep mark duration (seconds)

[player_particle_colors]
PLAYER_PARTICLE_DUST_COLOR           = #b4aa96ff                           # dust particle color (sandy beige)
PLAYER_PARTICLE_STEP_COLOR           = #231e19ff                           # footstep mark color (dark brown)

[input]
INPUT_AXIS_DEADZONE                  = 0.1                                 # gamepad stick deadzone (0-1)

# Keyboard — SDL scancode names (see SDL_GetScancodeFromName)
INPUT_KB_MOVE_UP                     = "W"
INPUT_KB_MOVE_DOWN                   = "S"
INPUT_KB_MOVE_LEFT                   = "A"
INPUT_KB_MOVE_RIGHT                  = "D"
INPUT_KB_JUMP                        = "Space"
INPUT_KB_DASH                        = "L"
INPUT_KB_WALL_RUN                    = "Left Shift"
INPUT_KB_SLIDE                       = "Left Ctrl"
INPUT_KB_DEBUG                       = "F3"
INPUT_KB_RELOAD                      = "F5"
INPUT_KB_QUIT                        = "Escape"

# Gamepad — SDL button names (see SDL_GetGamepadButtonFromString)
INPUT_GP_MOVE_UP                     = "dpup"
INPUT_GP_MOVE_DOWN                   = "dpdown"
INPUT_GP_MOVE_LEFT                   = "dpleft"
INPUT_GP_MOVE_RIGHT                  = "dpright"
INPUT_GP_JUMP                        = "a"
INPUT_GP_DASH                        = "y"
INPUT_GP_WALL_RUN                    = "rightshoulder"
INPUT_GP_SLIDE                       = "leftshoulder"
INPUT_GP_DEBUG                       = "back"
INPUT_GP_QUIT                        = "start"

[sand]
SAND_CHUNK_SIZE                      = 16  # :u8                           # spatial chunk side length in tiles
SAND_SIM_INTERVAL                    = 4  # :u8                            # sim every Nth fixed step (4 = 60Hz at 240Hz fixed)
SAND_SLEEP_THRESHOLD                 = 4  # :u8                            # idle steps before cell sleeps (skipped in sim)
SAND_COLOR                           = #d4a843ee                           # base sand particle color
SAND_COLOR_VARIATION                 = 10  # :u8                           # per-particle brightness offset for visual variety
SAND_EMITTER_RATE                    = 8.0                                 # particles spawned per second per emitter
SAND_PLAYER_DRAG_PER_CELL            = 0.02                                # velocity drag added per displaced sand cell
SAND_PLAYER_DRAG_MAX                 = 0.5                                 # max total drag factor cap (0-1)
SAND_PRESSURE_FORCE                  = 50 / PPM                            # downward force per sand cell stacked above player
SAND_BURIAL_THRESHOLD                = 0.5                                 # sand/footprint overlap ratio to count as buried
SAND_BURIAL_GRAVITY_MULT             = 2.0                                 # extra gravity multiplier when buried in sand
SAND_DISPLACE_CHAIN                  = 8  # :u8                            # max recursive push depth when displacing sand
SAND_SINK_SPEED                      = 4 / PPM                             # sinking rate (m/s) when standing on sand
SAND_MOVE_PENALTY                    = 1.0                                 # run speed reduction per immersion (0=none, 1=zero at full)
SAND_JUMP_PENALTY                    = 0.75                                # jump force reduction per immersion (0=none, 1=no jump)
SAND_WALL_RUN_PENALTY                = 1.0                                 # wall run speed reduction per immersion (0=none, 1=zero)

[sand_debug]
SAND_DEBUG_COLOR_LOW                 = #0000ff64                           # heatmap color for low pressure (blue)
SAND_DEBUG_COLOR_MID                 = #ffff0064                           # heatmap color for mid pressure (yellow)
SAND_DEBUG_COLOR_HIGH                = #ff000064                           # heatmap color for high pressure (red)
SAND_DEBUG_COLOR_CHUNK               = #ffff0044                           # active chunk highlight color
SAND_DEBUG_COLOR_EMITTER             = #00ffffff                           # emitter marker outline color (cyan)
SAND_DEBUG_SLEEP_DIM                 = 128  # :u8                          # overlay alpha for sleeping particles
SAND_DEBUG_PRESSURE_MAX              = 20.0                                # heatmap pressure cap (above this = max color)

[water]
WATER_COLOR                          = #3399ccdd                           # base water particle color (translucent cyan)
WATER_COLOR_VARIATION                = 8  # :u8                            # max RGB darkening near ground floor
WATER_COLOR_DEPTH_MAX                = 20  # :u8                           # cell distance from ground where darkening fades to zero
WATER_FLOW_DISTANCE                  = 15  # :u8                           # max horizontal cells water scans per step
WATER_EMITTER_RATE                   = 12.0                                # particles spawned per second per water emitter
WATER_PLAYER_DRAG_PER_CELL           = 0.04                                # velocity drag added per displaced water cell
WATER_PLAYER_DRAG_MAX                = 0.6                                 # max total drag factor cap (0-1)
WATER_BUOYANCY_FORCE                 = 80 / PPM                            # upward force per immersion ratio (0-1)
WATER_BUOYANCY_THRESHOLD             = 0.3                                 # water immersion ratio to trigger buoyancy
WATER_MOVE_PENALTY                   = 0.5                                 # run speed reduction per water immersion
WATER_JUMP_PENALTY                   = 0.3                                 # jump force reduction per water immersion
WATER_SWIM_ENTER_THRESHOLD           = 0.5                                 # immersion ratio to enter swimming
WATER_SWIM_EXIT_THRESHOLD            = 0.15                                # immersion ratio to exit swimming (hysteresis)
WATER_SWIM_SURFACE_THRESHOLD         = 0.4                                 # immersion ratio considered "at surface" for jump-out
WATER_SWIM_GRAVITY_MULT              = 0.15                                # gravity multiplier while swimming
WATER_SWIM_UP_SPEED                  = 200 / PPM                           # upward speed when pressing up
WATER_SWIM_DOWN_SPEED                = 150 / PPM                           # downward speed when pressing down
WATER_SWIM_FLOAT_SPEED               = 50 / PPM                            # passive float-up speed (no input)
WATER_SWIM_DAMPING                   = 3.0                                 # velocity damping factor per second
WATER_SWIM_JUMP_FORCE                = 500 / PPM                           # jump force when leaping out at surface

[debug_colors]
DEBUG_COLOR_COLLIDER                 = #00ff00ff                           # ground collider outline (green)
DEBUG_COLOR_COLLIDER_BACK_WALL       = #006464ff                           # back wall collider outline (dark cyan)
DEBUG_COLOR_COLLIDER_CEILING         = #c83232ff                           # ceiling collider outline (dark red)
DEBUG_COLOR_COLLIDER_SIDE_WALL       = #ffb400ff                           # side wall collider outline (orange)
DEBUG_COLOR_COLLIDER_PLATFORM        = #0064ffff                           # platform collider outline (blue)
DEBUG_COLOR_FACING_DIR               = #00ffffff                           # player facing direction arrow (cyan)
DEBUG_COLOR_PLAYER                   = #ff00ffff                           # player position cross (magenta)
DEBUG_COLOR_STATE                    = #ffffffff                           # current FSM state text (white)
DEBUG_COLOR_STATE_MUTED              = #ffffffaa                           # previous FSM state text (muted white)
DEBUG_COLOR_RAY_GROUND               = #00ff00ff                           # ground raycast hit (green)
DEBUG_COLOR_RAY_SLOPE                = #64ff64ff                           # slope raycast hit (light green)
DEBUG_COLOR_RAY_PLATFORM             = #0064ffff                           # platform raycast hit (blue)
DEBUG_COLOR_RAY_WALL                 = #ffb400ff                           # wall raycast hit (orange)
DEBUG_COLOR_RAY_HIT_POINT            = #ff3232ff                           # raycast hit point marker (red)
DEBUG_COLOR_RAY_MISS                 = #505050ff                           # raycast miss (gray)
DEBUG_COLOR_VELOCITY                 = #b4ff00ff                           # velocity vector arrow (yellow-green)
DEBUG_COLOR_GRID                     = #ffffffff                           # tile grid lines (white, alpha controlled separately)
DEBUG_COLOR_CAMERA_ZONE              = #ffffffaa                           # camera dead zone rectangle (translucent white)

[debug]
DEBUG_GRID_ALPHA                     = 20  # :u8                           # tile grid line opacity (0-255)
DEBUG_CROSS_HALF                     = 2                                   # half-size of debug cross markers in pixels
DEBUG_FACING_LENGTH                  = 0.5                                 # facing direction arrow length in meters
DEBUG_TEXT_CHAR_W                    = 8                                   # debug text character width in pixels
DEBUG_TEXT_LINE_H                    = 12                                  # debug text line height in pixels
DEBUG_TEXT_MARGIN_X                  = 16                                  # debug HUD left margin in pixels
DEBUG_TEXT_MARGIN_Y                  = 10                                  # debug HUD top margin in pixels
DEBUG_TEXT_STATE_GAP                 = 24                                  # vertical gap between FSM state labels in pixels
DEBUG_VEL_SCALE                      = 0.01                                # velocity vector display scale (world units per m/s)
